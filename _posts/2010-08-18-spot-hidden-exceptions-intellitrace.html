---
layout: post
title: Spot Hidden Exceptions using IntelliTrace
---

<p>Recently I’ve been able to replace my Visual Studio 2010 Professional with Visual Studio 2010 Ultimate and the first feature I wanted to try was IntelliTrace, to see how it could help me debug and improve the quality of my software.</p>  <p>After giving a look at what it’s capable the first and simple way I used it was to look at all the exception messages raised by my applications; just looking at them I was able to discover and eliminate some ‘hidden’ problem which were simply eaten up the framework (in case of bindings errors for example) or by a wrong exception handling strategy that was implemented in code.</p>  <p>To enable IntelliTrace go to Tools -&gt; Options and look for the IntelliTrace section there, you will see the following dialog:</p>  <p><a href="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions1_2.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 4px 10px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="IntellitraceExceptions1" border="0" alt="IntellitraceExceptions1" src="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions1_thumb.jpg" width="304" height="178" /></a></p>  <p><strong>Figure 1</strong> - IntelliTrace Options</p>  <p>If you want to enable detailed information for the call tree enable the second option, but it will slow down your debugging experience a lot, so do it if you really need those information; I will also suggest you to check the advanced tab and increase the default size of the maximum amount of disk space for each recording.</p>  <p>Run the application with the debugger attached and when you break it you can analyze the IntelliTrace log:</p>  <p><a href="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions2_2.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 4px 10px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="IntellitraceExceptions2" border="0" alt="IntellitraceExceptions2" src="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions2_thumb.jpg" width="504" height="358" /></a></p>  <p><strong>Figure 2</strong> - IntelliTrace in action, full event log</p>  <p>Clicking on an entry will open up the corresponding source code file and will highlight the line of interest. The default view is quite messy, because it contains logs for each type of event you asked for in the IntelliTrace Options, you can filter it up easily and show only what you want to focus on (the exceptions at the moment).</p>  <p><a href="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions3_2.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 4px 10px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="IntellitraceExceptions3" border="0" alt="IntellitraceExceptions3" src="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions3_thumb.jpg" width="227" height="244" /></a></p>  <p><strong>Figure 3</strong> - Filtering the data</p>  <p>Wow! I never expected that my application raised so many exceptions under the hood, so I started to look at them to see if I could fix them. Inspecting this log you can see all the exceptions that ‘flows’ out of your direct control. Some of them are particularly nasty, like the ones originated from the binding system, take the following one as example:</p>  <p><a href="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions4_2.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 4px 10px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="IntellitraceExceptions4" border="0" alt="IntellitraceExceptions4" src="http://www.primordialcode.com/UserFiles/Guardian/IntellitraceExceptions4_thumb.jpg" width="504" height="246" /></a></p>  <p><strong>Figure 4</strong> - Analyzing a single exception.</p>  <p>Here we have a binding to a ComboBox which should hold a list of names of nations, using the software everything was working well: I could see the nations and select them and the value was correctly saved. But internally we had a System.ArgumentException that was throw and eaten up by the binding framework...why? looking at the code it’s quite clear: we are making a binding with a list of strings but we’ve also specified DisplayName and DisplayValue (maybe this control was previously in binding with something else) and this is a mistake we ignored because it has no evident effect. </p>  <p>The binding framework just ignores those two values...but nonetheless an avoidable exception has been thrown and captured; the solution in this case is easy: remove the assignments to DisplayMember and ValueMember.</p>  <p>Using IntelliTrace in this way and carefully looking at the logs I was able to remove a lot of those hidden exceptions (especially when dealing with bindings) with an overall improvement of the quality (and performance) of the application.</p><h2>Related Content</h2><ul><li style="list-style-type: none"><a href="http://www.primordialcode.com/blog/post/nunitit-visual-studio-addin-support-nunit-customizations">NUnitit: Visual Studio Addin to support NUnit and some customizations to it</a> (26/08/2015)</li><li style="list-style-type: none"><a href="http://www.primordialcode.com/blog/post/resharper-outofmemoryexception-problem">Resharper and the OutOfMemoryException problem</a> (26/08/2015)</li><li style="list-style-type: none"><a href="http://www.primordialcode.com/blog/post/visual-studio-2010-designer-error-null-parameter-objecttype">Visual Studio 2010 designer error: Value cannot be null. Parameter name: objectType</a> (26/08/2015)</li><li style="list-style-type: none"><a href="http://www.primordialcode.com/blog/post/vs2008-sp1-powercommands-toolbox-additemscrash">VS2008 SP1 + PowerCommands = Toolbox AddItems...Crash!</a> (26/08/2015)</li><li style="list-style-type: none"><a href="http://www.primordialcode.com/blog/post/update-tfs-workspace-codeplex-upgrade-tfs2010">How to update your TFS Workspace after CodePlex upgrade to TFS2010</a> (26/08/2015)</li><li style="list-style-type: none"><a href="/Blog/Related/spot-hidden-exceptions-intellitrace"><strong>More related document (10)</strong></a></li></ul><br />
